- content_for :head_css do
  = stylesheet_link_tag "show_data", "contact_show"
- content_for :head_javascript do
  = javascript_include_tag "contact_show"

%h2= "Contact for #{@contact.name}"

%fieldset.show_data
  %legend
  %h2 General contact information:
  %table
    %tbody
      %tr
        %td Name:
        %td= @contact.name
      %tr
        %td Company:
        %td
          - if @contact.company.nil?
            %em No company set
          - else
            = @contact.company.name
      %tr
        %td Tags:
        %td
          - tags = @contact.tags.collect{|tag| tag.name}.join(", ")
          - if tags.blank?
            %em No tags set
          - else
            = tags
      - unless @contact.comments.blank?
        %tr
          %td Comments:
          %td= @contact.comments

  %h2 Phone Numbers:
  #phones_numbers
    - if not @contact.phone_numbers.empty?
      %table
        %tbody
          - dial_options = (1..9).to_a+[0]+('a'..'z').to_a
          - @contact.phone_numbers.each_with_index do |phone, index|
            %tr
              %td
                %span.phone_number
                  = phone.number
                  = link_to_function "", "dialPhoneNumber('#{dial_path(phone.id)}', '#{get_dialing_message(@contact, phone.number)}')"
              %td
                %span.key D
                +
                %span.key= dial_options[index].to_s
    - else
      %p No phone numbers have been added.

= link_to "Edit", edit_contact_path(@contact)

#dialing-background{:style => "display: none;"}
  #dialing-popup
    .padding
    .center-text
      %p#dialing-message
    %div#dialing-close
      = button_to_function "Cancel"
